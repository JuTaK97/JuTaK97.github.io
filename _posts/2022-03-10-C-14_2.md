---
title : "Chapter 14. The Preprocessor (PART 2)"
categories : 
  - C
tags :
  - C
last_modified_at: 2020-03-12T23:33:00-05:00
---
# K.N.KING C PROGRAMMING *A Modern Approach*
## 14.4 Conditional Compilation
Chapter 14 PART 1 : [이전 글] <br />

Conditional compilation을 통해 preprocessor이 프로그램의 특정 부분을 포함시키거나, 제외시킬 수 있다.<br />

### ```#if```, ```#endif```
우리가 프로그램을 디버깅 중에 있다고 생각해 보자. <br />
특정 부분에서 디버깅을 위해 printf문을 넣었다. 디버깅이 끝난 후에 생각해 보니 이 printf문이 나중에도 유용하게 쓰일 수 있을 것 같다.
그냥 주석 처리를 해도 되지만, 다시 디버깅을 할 때 일일히 주석을 해제하려면 무척 귀찮고 실수할 여지도 많을 것이다.<br />
이럴 때 유용한 것이 `#if`와 `#endif` directive이다. 사용 예시를 살펴보자.
```c
#define DEBUG 1

...

#if DEBUG
printf("Value of i: %d\n", i);
printf("Value of j: %d\n", j);
#endif
```
문법 구조는 **\#if _constant-expression_** 이다. Preprocessor는 전처리 과정 중에 #if를 발견하면 그 다음에 있는 특정 값을 확인한다. 이 값이 참(즉, 0이 아닌 값)이면
preprocessor는 `#if DEBUG`와 `#endif`가 있는 줄만 지워주고, 그 사이에 있는 부분은 남겨 둔다. 반대로 `#if` 뒤의 값이 거짓, 즉 0이면 preprocessor는 `#if DEBUG`부터
`#endif`까지 모든 텍스트를 지워 버리고 object code를 만들어 컴파일러에게 넘겨 준다.<br />
우리는 이제 디버깅을 하고 싶을 때, DEBUG 매크로를 0에서 1로 바꿔 주기만 하면 된다. 디버깅을 끝내고 싶으면 DEBUG를 0으로 다시 되돌려 주면 된다.<br />
정의되지 않은 값이 `#if` 뒤에 나오면, preprocessor는 거짓인 것으로 판단한다. 또, `DEBUG`가 정의되지 않은 상태에서 `#if !DEBUG`를 하면 참으로 판단한다.<br />

### ```defined```


















[이전 글]: https://github.com/JuTaK97/JuTaK97.github.io/blob/master/_posts/2022-03-10-C-14.md
